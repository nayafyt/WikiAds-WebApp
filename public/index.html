<!DOCTYPE html>

<html lang="el">

<head>
    <title>Index</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
    <script src="js/main.js" type="text/javascript"></script>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <header>
        <h1 class="pageTitle">WikiAds Categories</h1>
    </header>

    <main>
        <section id="categories"></section>

        <script id="category-template" type="text/x-handlebars-template">
            <table style="width:100%">
                <thead>
                    <tr>
                        {{#each categories}}
                        <th id="category">
                            {{title}}
                            <br>
                            <a href="category?id={{id}}"><img id="categImage" src="https://wiki-ads.onrender.com/{{img_url}}" alt="{{title}} Image"> </a>
                        </th>
                        {{/each}}
                    </tr>
                </thead>
                <tr>
                    {{#each categories}}
                    <td>
                        <ul>
                            {{#each subcategories}}
                            <li class="generateSP" data-title="{{id}}">{{title}}</li>
                            {{/each}}
                        </ul>
                    </td>
                    {{/each}}

                </tr>
            </table>
        </script>
        <script>
            // Add event listener to dynamically generated list items
            document.addEventListener('DOMContentLoaded', function() {
                document.addEventListener('click', function(event) {
                    if (event.target.classList.contains('generateSP')) {
                        const id = event.target.getAttribute('data-title');
                        window.location.href = `ads?subcategory=${encodeURIComponent(id)}`;
                    }
                });
            });
        </script>


    </main>
         <footer>
        <div id="upper-footer">
            <a href="index.html">WikiAds</a>
        </div>

        <div id="middle-footer">
            <ul>
                <li>
                    Τηλέφωνο:<address> <a href="tel:+302101234567">+30 2101234567</a></address>
                </li>
                <li>
                    Email:<address><a href="mailto:info@WikiAds.gr">info@WikiAds.gr</a></address>
                </li>
            </ul>

            <div class="social">

                <address><a href="https://www.facebook.com/" target="_blank"><img src="css/facebook-icon.png"  alt="facebook-icon"></a></address>

                <address><a href="https://www.instagram.com" target="_blank"><img src="css/instagram-icon.png"  alt="instagram-icon"></a></address>

            </div>

            <p>
                Αν αντιμετωπίζετε οποιαδήποτε πρόβλημα<a href="contact_form.html">contact us</a>
            </p>

            <div class="validator">
                <p>
                    <a href="http://jigsaw.w3.org/css-validator/check/referer">
                        <img style="border:0;width:88px;height:31px" src="http://jigsaw.w3.org/css-validator/images/vcss-blue" alt="Valid CSS!" />
                    </a>
                </p>
            </div>

        </div>
        <div id="lower-footer">
            <p>
                Copyright &copy;2023;Designed by Iliana and Panagiota- All rights reserved
            </p>
        </div>

    </footer>
    
</body>

</html>
